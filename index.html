<!DOCTYPE html>
<html>
<head>
<style>

body
{
	background-color: #3c3c3c;
}
table, td
{
	border-collapse:collapse;
}
table 
{
	border: 2px solid gray;
	width:200px;height:200px;
	margin: auto;
}
td
{
	border: 1px solid black;
	background-color: #505050;
	padding: 2px;
	text-align: center;
	width:66px;
	font-size: large;
}
.outer
{
	border:none;
	padding: 0px;
}
.case
{
	border:3px solid #787878;
}
button
{
	border-radius:1px;
	font-family: Candara;
	font-size: 20px;
	width: 100px;
	background-color: gray;
}
input
{
	height: 100%;
	width: 100%;
	margin: 0px;
	padding: 0px;
}

</style>
</head>

<body>

<h1 style="text-align:center;">SUDOKU</h1>

<button onclick="sort()">Fill</button>

<br>


<table class="case" style="width:600px;height:600px;">
<tr>
	<td class="outer" ><table>
		<tr>
			<td id="A1">  </td>
			<td id="A2">  </td>
			<td id="A3"> </td>
		</tr>
		<tr>
			<td id="B1"> </td>
			<td id="B2"> </td>
			<td id="B3">  </td>
		</tr>
		<tr>
			<td id="C1">  </td>
			<td id="C2">  </td>
			<td id="C3"> </td>
		</tr>
	</table></td>
	<td class="outer"><table>
		<tr>
			<td id="A4">  </td>
			<td id="A5">  </td>
			<td id="A6">  </td>
		</tr>
		<tr>
			<td id="B4">  </td>
			<td id="B5">  </td>
			<td id="B6">  </td>
		</tr>
		<tr>
			<td id="C4">  </td>
			<td id="C5">  </td>
			<td id="C6">  </td>
		</tr>
	</table></td>
	<td class="outer"><table>
		<tr>
			<td id="A7"> </td>
			<td id="A8"> </td>
			<td id="A9">  </td>
		</tr>
		<tr>
			<td id="B7">  </td>
			<td id="B8">  </td>
			<td id="B9"> </td>
		</tr>
		<tr>
			<td id="C7">  </td>
			<td id="C8">  </td>
			<td id="C9">  </td>
		</tr>
	</table></td>
</tr>
<tr>
	<td class="outer"><table>
		<tr>
			<td id="D1">  </td>
			<td id="D2"> </td>
			<td id="D3">  </td>
		</tr>
		<tr>
			<td id="E1">  </td>
			<td id="E2">  </td>
			<td id="E3"> </td>
		</tr>
		<tr>
			<td id="F1">  </td>
			<td id="F2">  </td>
			<td id="F3">  </td>
		</tr>
	</table></td>
	<td class="outer"><table>
		<tr>
			<td id="D4">  </td>
			<td id="D5"> </td>
			<td id="D6">  </td>
		</tr>
		<tr>
			<td id="E4">  </td>
			<td id="E5">  </td>
			<td id="E6">  </td>
		</tr>
		<tr>
			<td id="F4"> </td>
			<td id="F5">  </td>
			<td id="F6">  </td>
		</tr>
	</table></td>
	<td class="outer"><table>
		<tr>
			<td id="D7">  </td>
			<td id="D8">  </td>
			<td id="D9"> </td>
		</tr>
		<tr>
			<td id="E7">  </td>
			<td id="E8">  </td>
			<td id="E9">  </td>
		</tr>
		<tr>
			<td id="F7">  </td>
			<td id="F8">  </td>
			<td id="F9"> </td>
		</tr>
	</table></td>
</tr>
<tr>
	<td class="outer"><table>
		<tr>
			<td id="G1">  </td>
			<td id="G2">  </td>
			<td id="G3">  </td>
		</tr>
		<tr>
			<td id="H1"> </td>
			<td id="H2">  </td>
			<td id="H3">  </td>
		</tr>
		<tr>
			<td id="I1">  </td>
			<td id="I2">  </td>
			<td id="I3"> </td>
		</tr>
	</table></td>
	<td class="outer"><table>
		<tr>
			<td id="G4">  </td>
			<td id="G5"> </td>
			<td id="G6">  </td>
		</tr>
		<tr>
			<td id="H4">  </td>
			<td id="H5">  </td>
			<td id="H6"> </td>
		</tr>
		<tr>
			<td id="I4">  </td>
			<td id="I5"> </td>
			<td id="I6"> </td>
		</tr>
	</table></td>
	<td class="outer"><table>
		<tr>
			<td id="G7"> </td>
			<td id="G8"> </td>
			<td id="G9">  </td>
		</tr>
		<tr>
			<td id="H7">  </td>
			<td id="H8">  </td>
			<td id="H9"> </td>
		</tr>
		<tr>
			<td id="I7"> </td>
			<td id="I8">  </td>
			<td id="I9"> </td>
		</tr>
	</table></td>
</tr>
</table>

<!--
<table>
	<tr>
		<td class="test">
			<input name="entry" type="int" id="test1" onblur="enter(test1)">
		</td>
		<td class="test">
			<input name="entry" type="int" id="test2" onblur="enter(test2)">
		</td>
	</tr>
	<tr>
		<td class="test">
			<input name="entry" type="int" id="test3" onblur="enter(test3)">
		</td>
		<td class="test">
			<input name="entry" type="int" id="test4" onblur="enter(test4)">
		</td>
	</tr>
</table>
-->

<p id="test"></p>

<script>
var entries = [1, 2, 3, 4, 5, 6, 7, 8, 9];
var names = [];
var i;
var j;
var k = 0;
var a;
var b;
var c = 0;
var cube1 = [0, 1, 2, 9, 10, 11, 18, 19, 20];
var cube2 = [3, 4, 5, 12, 13, 14, 21, 22, 23];
var cube3 = [6, 7, 8, 15, 16, 17, 24, 25, 26];
var cube4 = [27, 28, 29, 36, 37, 38, 45, 46, 47];
var cube5 = [30, 31, 32, 39, 40, 41, 48, 49, 50];
var cube6 = [33, 34, 35, 42, 43, 44, 51, 52, 53];
var cube7 = [54, 55, 56, 63, 64, 65, 72, 73, 74];
var cube8 = [57, 58, 59, 66, 67, 68, 75, 76, 77];
var cube9 = [60, 61, 62, 69, 70, 71, 78, 79, 80];
var letters=["A", "B", "C", "D", "E", "F", "G", "H", "I"];
var solution=[];

for (i=0; i<entries.length; i++)
{
	for (j=0; j<entries.length; j++)
	{
		names[k]=letters[i] + entries[j];
		solution[k] = 0;
		document.getElementById(names[k]).innerHTML = names[k];
		k = k + 1;
	}
}

function sort()
{
	entries.sort(function(a, b){return 0.5 - Math.random()}); 
	entries.sort(function(a, b){return 0.5 - Math.random()});
	entries.sort(function(a, b){return 0.5 - Math.random()});
	
	for (i=0; i < entries.length; i++) // fills first square
	{
		j = cube1[i];
		solution[j] = entries[i];
		document.getElementById(names[j]).innerHTML = solution[j];
	}
	
	entries.sort(function(a, b){return 0.5 - Math.random()}); 
	entries.sort(function(a, b){return 0.5 - Math.random()});
	entries.sort(function(a, b){return 0.5 - Math.random()});
	entries.sort(function(a, b){return 0.5 - Math.random()});
	
	for (i=0; i < entries.length; i++) // fills fifth square
	{
		j = cube9[i];
		solution[j] = entries[i];
		document.getElementById(names[j]).innerHTML = solution[j];
	}
	entries.sort(function(a, b){return 0.5 - Math.random()}); 
	entries.sort(function(a, b){return 0.5 - Math.random()});
	entries.sort(function(a, b){return 0.5 - Math.random()});
	
	for (i=0; i < entries.length; i++) // fills ninth square
	{
		j = cube5[i];
		solution[j] = entries[i];
		document.getElementById(names[j]).innerHTML = solution[j];
	}
	
	entries.sort(function(a, b){return 0.5 - Math.random()});
	entries.sort(function(a, b){return 0.5 - Math.random()}); // randomizes array again 

	for( k=0; k<9; k++)
	{
		a = (Math.floor(k/3))*9; // 3 possibilities; k = 0, k = 9, k = 18
		b = (k%3); // 3 possibilities "
		
		for (i=0; i<9; i++)
		{
			if ( entries[i]!= solution[a] && entries[i]!= solution[a+1] && entries[i]!= solution[a+2] && entries[i] != solution[b+30] && entries[i]!= solution[b+39] && entries[i]!= solution[b+48])
			{
				j = cube2[k]; 
				if (solution[j]==0)
				{
					solution[j] = entries[i];
				} else
				{
					solution[j] = solution[j] + "" + entries[i];
				}
				document.getElementById(names[j]).innerHTML = solution[j];
			}
			if ( entries[i]!= solution[a] && entries[i]!= solution[a+1] && entries[i]!= solution[a+2] && entries[i] != solution[b+60] && entries[i]!= solution[b+69] && entries[i]!= solution[b+78])
			{
				j = cube3[k]; 
				if (solution[j]==0)
				{
					solution[j] = entries[i];
				} else
				{
					solution[j] = solution[j] + "" + entries[i];
				}
				document.getElementById(names[j]).innerHTML = solution[j];
			}
			if ( entries[i]!= solution[a+30] && entries[i]!= solution[a+31] && entries[i]!= solution[a+32] && entries[i] != solution[b] && entries[i]!= solution[b+9] && entries[i]!= solution[b+18])
			{
				j = cube4[k]; 
				if (solution[j]==0)
				{
					solution[j] = entries[i];
				} else
				{
					solution[j] = solution[j] + "" + entries[i];
				}
				document.getElementById(names[j]).innerHTML = solution[j];
			}
			if ( entries[i]!= solution[a+30] && entries[i]!= solution[a+31] && entries[i]!= solution[a+32] && entries[i] != solution[b+60] && entries[i]!= solution[b+69] && entries[i]!= solution[b+78])
			{
				j = cube6[k]; 
				if (solution[j]==0)
				{
					solution[j] = entries[i];
				} else
				{
					solution[j] = solution[j] + "" + entries[i];
				}
				document.getElementById(names[j]).innerHTML = solution[j];
			}
			if ( entries[i]!= solution[a+60] && entries[i]!= solution[a+61] && entries[i]!= solution[a+62] && entries[i] != solution[b] && entries[i]!= solution[b+9] && entries[i]!= solution[b+18])
			{
				j = cube7[k]; 
				if (solution[j]==0)
				{
					solution[j] = entries[i];
				} else
				{
					solution[j] = solution[j] + "" + entries[i];
				}
				document.getElementById(names[j]).innerHTML = solution[j];
			}
			if ( entries[i]!= solution[a+60] && entries[i]!= solution[a+61] && entries[i]!= solution[a+62] && entries[i] != solution[b+30] && entries[i]!= solution[b+39] && entries[i]!= solution[b+48])
			{
				j = cube8[k]; 
				if (solution[j]==0)
				{
					solution[j] = entries[i];
				} else
				{
					solution[j] = solution[j] + "" + entries[i];
				}
				document.getElementById(names[j]).innerHTML = solution[j];
			}
		}
		
	}
	
	entries = solution.filter(truth);
	
	for (i=0; i<81; i++)
	{
		if (typeof entries[i] == "number")
		{
			entries[i] = "0";
		}	
	}
	
	j = 0;
	
	
	while (j<54) {
		
		k=9;
		for (i=0; i<81; i++)
		{
			if(entries[i].length < k && entries[i] != "0")
			{
				a = i;
				k = entries[i].length;
			}
			if (k==1)
			{
				i=81;
			}
		}
				
		k = (Math.floor(a/9))*9;
		b = (a%9);
		c = (27*(Math.floor(a/27)))+(3*((Math.floor(a/3))%3));
		
		solution[a] = entries[a].charAt(0);
		document.getElementById(names[a]).innerHTML = solution[a];
		
		entries[a] = "0";
			
		for (i=0; i<9; i++)
		{
			if (c+i+(Math.floor(i/3)*6) != a)
			{
				entries[c+i+(Math.floor(i/3)*6)] = entries[c+i+(Math.floor(i/3)*6)].replace(solution[a], "");
			}
			if (k+i != a)
			{
				entries[k+i] = entries[k+i].replace(solution[a], "");
				document.getElementById(names[k+i]).innerHTML = entries[k+i];
			}
			if (b != a)
			{
				entries[b] = entries[b].replace(solution[a], "");
				document.getElementById(names[b]).innerHTML = entries[b];
			}
			b = b + 9; 
		}
		j = j + 1;
		
	}
	
	for (i=0; i<81; i++)
	{
		if (solution[i] == "")
		{	
			a = (Math.floor(i/9))*9;
			solution[i] = 45-Number(solution[a])-Number(solution[a+1])-Number(solution[a+2])-Number(solution[a+3])-Number(solution[a+4])-Number(solution[a+5])-Number(solution[a+6])-Number(solution[a+7])-Number(solution[a+8]);
		}
	}
	
	for (i=0; i<81; i++)
	{
		document.getElementById(names[i]).innerHTML = solution[i];
	}
}

function truth(value)
{
	return 1==1;
}

function enter(enteredName)
{
	enteredName.value = enteredName.value + "ll";
	document.getElementById("test2").value = document.getElementById("E1").offsetHeight;
}
</script>

</body>
</html>
